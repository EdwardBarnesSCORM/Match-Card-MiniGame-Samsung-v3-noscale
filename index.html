<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Game Lightbox</title>
<style>
  :root { --w: 382px; --h: 780px; }
  body { font-family: system-ui, Arial, sans-serif; margin:0; padding:2rem; text-align:center; }
  .btn { padding:0.7rem 1rem; border:0; border-radius:10px; cursor:pointer; font-size:1rem; }
  .btn-primary { background:#111; color:#fff; }
  .hint { color:#555; margin-top:0.75rem; font-size:0.9rem; }

  /* Lightbox overlay */
  .lightbox {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.72);
    display: none; align-items: center; justify-content: center;
    z-index: 9999; padding: 2rem;
  }
  .lightbox.active { display: flex; }

  /* Lightbox content shell (exact size) */
  .lightbox-content {
    position: relative; background:#000; border-radius:12px; overflow:hidden;
    width: var(--w); height: var(--h); box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  }

  /* Close button */
  .close-btn {
    position: absolute; top:8px; right:10px; line-height:1;
    padding:6px 10px; border-radius:8px; background: rgba(0,0,0,0.6);
    color:#fff; border:0; cursor:pointer; font-size:16px; z-index:1;
  }

  /* Iframe locked to native size for crispness */
  .lightbox iframe {
    display:block; border:0; width:var(--w); height:var(--h);
    transform:none !important; zoom:1 !important; max-width:none !important;
  }
</style>
</head>
<body>

  <h1>Play the Game</h1>
  <p>Opens in a lightbox at the game’s native size (<strong>382 × 780</strong>) for a crisp view.</p>
  <button class="btn btn-primary" id="openGame">Open Game</button>
  <div class="hint">Tip: Ensure your browser zoom is 100%.</div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" aria-hidden="true">
    <div class="lightbox-content" role="dialog" aria-modal="true" aria-label="Game">
      <button class="close-btn" id="closeGame" aria-label="Close">✕</button>
      <iframe src="game.html" allowfullscreen></iframe>
    </div>
  </div>

<script>
  const lightbox = document.getElementById('lightbox');
  const openBtn = document.getElementById('openGame');
  const closeBtn = document.getElementById('closeGame');

  openBtn.addEventListener('click', () => {
    lightbox.classList.add('active');
    lightbox.setAttribute('aria-hidden','false');
  });

  closeBtn.addEventListener('click', () => {
    lightbox.classList.remove('active');
    lightbox.setAttribute('aria-hidden','true');
  });

  // Close when clicking outside the content
  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) {
      lightbox.classList.remove('active');
      lightbox.setAttribute('aria-hidden','true');
    }
  });

  // Escape key to close
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && lightbox.classList.contains('active')) {
      lightbox.classList.remove('active');
      lightbox.setAttribute('aria-hidden','true');
    }
  });
</script>

</body>
</html>
